/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/@vizuaalog/bulmajs@0.12.1/src/plugins/navbar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Bulma from"../core";import Plugin from"../plugin";export class Navbar extends Plugin{static parseDocument(t){let s;s="object"==typeof t.classList&&t.classList.contains("navbar")?[t]:t.querySelectorAll(".navbar"),Bulma.each(s,(t=>{Bulma(t).navbar({sticky:!!t.hasAttribute("data-sticky"),stickyOffset:t.hasAttribute("data-sticky-offset")?t.getAttribute("data-sticky-offset"):0,hideOnScroll:!!t.hasAttribute("data-hide-on-scroll"),tolerance:t.hasAttribute("data-tolerance")?t.getAttribute("data-tolerance"):0,hideOffset:t.hasAttribute("data-hide-offset")?t.getAttribute("data-hide-offset"):null,shadow:!!t.hasAttribute("data-sticky-shadow")})}))}static defaultconfig(){return{sticky:!1,stickyOffset:0,hideOnScroll:!1,tolerance:0,hideOffset:null,shadow:!1}}constructor(t,s){super(t,s),null===this.parent&&(this.parent=this.config.get("root").parentNode),this.root=this.config.get("root"),this.root.setAttribute("data-bulma-attached","attached"),this.triggerElement=this.root.querySelector(".navbar-burger"),this.target=this.root.querySelector(".navbar-menu"),this.sticky=!!this.config.get("sticky"),this.stickyOffset=parseInt(this.config.get("stickyOffset")),this.hideOnScroll=!!this.config.get("hideOnScroll"),this.tolerance=parseInt(this.config.get("tolerance")),this.shadow=!!this.config.get("shadow"),this.hideOffset=parseInt(this.config.get("hideOffset",Math.max(this.root.scrollHeight,this.stickyOffset))),this.lastScrollY=0,this.dropdowns=this.root.querySelectorAll(".navbar-item.has-dropdown:not(.is-hoverable)"),this.handleScroll=this.handleScroll.bind(this),Bulma(this.root).data("navbar",this),this.registerEvents()}registerEvents(){this.triggerElement.addEventListener("click",this.handleTriggerClick.bind(this)),this.sticky&&this.enableSticky(),Bulma.each(this.dropdowns,(t=>{t.addEventListener("click",this.handleDropdownTrigger)}))}handleTriggerClick(){this.target.classList.contains("is-active")?(this.target.classList.remove("is-active"),this.triggerElement.classList.remove("is-active")):(this.target.classList.add("is-active"),this.triggerElement.classList.add("is-active"))}handleScroll(){this.toggleSticky(window.pageYOffset)}handleDropdownTrigger(){this.classList.contains("is-active")?this.classList.remove("is-active"):this.classList.add("is-active")}enableSticky(){window.addEventListener("scroll",this.handleScroll),this.root.setAttribute("data-sticky",""),this.sticky=!0}disableSticky(){window.removeEventListener("scroll",this.handleScroll),this.root.removeAttribute("data-sticky"),this.sticky=!1}enableHideOnScroll(){this.sticky||this.enableSticky(),this.root.setAttribute("data-hide-on-scroll",""),this.hideOnScroll=!0}disableHideOnScroll(){this.root.removeAttribute("data-hide-on-scroll"),this.hideOnScroll=!1,this.root.classList.remove("is-hidden-scroll")}toggleSticky(t){if(t>this.stickyOffset?(this.root.classList.add("is-fixed-top"),document.body.classList.add("has-navbar-fixed-top"),this.shadow&&this.root.classList.add("has-shadow")):(this.root.classList.remove("is-fixed-top"),document.body.classList.remove("has-navbar-fixed-top"),this.shadow&&this.root.classList.remove("has-shadow")),this.hideOnScroll){let s=this.calculateScrollDirection(t,this.lastScrollY),i=this.difference(t,this.lastScrollY)>=this.tolerance;if("down"===s){let s=t>this.hideOffset;i&&s&&this.root.classList.add("is-hidden-scroll")}else{let s=t<this.hideOffset;(i||s)&&this.root.classList.remove("is-hidden-scroll")}this.lastScrollY=t}}difference(t,s){return t>s?t-s:s-t}calculateScrollDirection(t,s){return t>=s?"down":"up"}}Bulma.registerPlugin("navbar",Navbar);export default Bulma;
//# sourceMappingURL=/sm/57199f14e8ca75746b580a42b88c7a52843bf84e3c63c8e343c7449690aaf5d8.map